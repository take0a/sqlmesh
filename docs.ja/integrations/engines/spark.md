# Spark

## ローカル/組み込みスケジューラ
**エンジンアダプタタイプ**: `spark`

注: Spark は SQLMesh の [状態接続](../../reference/configuration.md#connections) には使用できません。

### 接続オプション

| オプション | 説明 | タイプ | 必須 |
|--------------|--------------------------------------------------------------------------------------------------------------|:------:|:--------:|
| `type` | エンジンタイプ名 - `spark` である必要があります | 文字列 | Y |
| `config_dir` | `SPARK_CONFIG_DIR` に設定する値 | 文字列 | N |
| `catalog` | コマンド発行時に使用するカタログ。詳細は [カタログサポート](#catalog-support) を参照してください | 文字列 | N |
| `config` | Spark 構成に設定するキー/値のペア。 | 辞書 | N |

## カタログのサポート

SQLMesh の Spark 統合は、単一のカタログの使用のみを念頭に置いて設計/テストされています。
そのため、すべての SQLMesh モデルは単一のカタログで定義する必要があります。

`catalog` が設定されていない場合、Spark のリリースに応じて動作が変わります。

* 3.4 以上の場合、デフォルトのカタログは実行時に決定されます。
* 3.4 未満の場合、デフォルトのカタログは `spark_catalog` です。
