# スケジューリングガイド

SQLMesh では現在、モデル評価のスケジューリングに以下の 2 つの方法を提供しています。

* [SQLMesh の組み込みスケジューラ](#組み込みスケジューラ) を使用する
* [Tobiko Cloud](../cloud/features/scheduler/scheduler.md) を使用する

## 組み込みスケジューラ

SQLMesh には、追加のツールや依存関係なしにモデル評価をスケジュールする組み込みスケジューラが含まれています。このスケジューラは、SQLMesh を本番環境で使用するために必要なすべての機能を提供します。

デフォルトでは、スケジューラは SQLMesh プロジェクトの状態（モデル、データ、実行履歴に関する情報）を、モデルの実行に使用される SQL エンジンに保存します。BigQuery などの一部のエンジンは、スケジューラが状態を保存するために実行するトランザクションに最適化されていないため、スケジューラのパフォーマンスが低下する可能性があります。

本番環境でスケジューラを実行する場合は、お使いの SQL エンジンでパフォーマンスを評価することをお勧めします。パフォーマンスの低下が見られる場合は、パフォーマンスを向上させるために、スケジューラに PostgreSQL などの独自のトランザクションデータベースを提供することを検討してください。スケジューラに別のデータベース/エンジンを提供する方法の詳細については、[接続ガイド](./connections.md#state-connection) をご覧ください。

組み込みスケジューラを使用してモデル評価を実行するには、次のコマンドを実行します。

```bash
sqlmesh run
```

上記のコマンドは、現在のプロジェクト内のすべてのモデルの欠落した間隔を自動的に検出し、評価します。

```bash
$ sqlmesh run

All model batches have been executed successfully

sqlmesh_example.example_incremental_model ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100.0% • 1/1 • 0:00:00
       sqlmesh_example.example_full_model ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100.0% • 1/1 • 0:00:00
```

**注:** `sqlmesh run` コマンドは、実行時に特定された欠損データ間隔に基づいてモデル評価を実行します。このコマンドは継続的に実行されるわけではなく、評価が完了すると終了します。このコマンドは、cron ジョブ、Jenkins などの CI/CD ツール、または同様の方法で定期的に実行する必要があります。
